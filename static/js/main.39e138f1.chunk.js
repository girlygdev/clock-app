(this["webpackJsonpclock-app-react"]=this["webpackJsonpclock-app-react"]||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),o=a(16),n=a.n(o),r=a(2),i=a(5),l=a.n(i),u=a(0),m=function(e){var t=e.refresh,a=void 0!==t&&t,s=Object(c.useState)(""),o=Object(r.a)(s,2),n=o[0],i=o[1];return Object(c.useEffect)((function(){if(a)l.a.get("https://api.unsplash.com/photos/random",{params:{client_id:"noJECr-bg2gyA6NS2r__M9tUcvhP8bAf3iuziUZ4f9I"}}).then((function(e){console.log(e);var t=e.data.urls.regular;i(t),localStorage.setItem("clockAppUserData-bg",t)}));else{var e=localStorage.getItem("clockAppUserData-bg");e&&i(e)}}),[a]),Object(u.jsx)("div",{className:"background",children:Object(u.jsx)("img",{src:n,alt:"Clock Background",className:"background__img"})})},d=function(e){var t=e.refresh,a=void 0!==t&&t,s=Object(c.useState)(""),o=Object(r.a)(s,2),n=o[0],i=o[1],m=Object(c.useState)(""),d=Object(r.a)(m,2),j=d[0],b=d[1];return Object(c.useEffect)((function(){if(a)l.a.get("https://goquotes-api.herokuapp.com/api/v1/random?count=1").then((function(e){var t=e.data;i(t.quotes[0].text),b(t.quotes[0].author),localStorage.setItem("clockAppUserData-quote",t.quotes[0].text),localStorage.setItem("clockAppUserData-author",t.quotes[0].author)}));else{var e=localStorage.getItem("clockAppUserData-quote"),t=localStorage.getItem("clockAppUserData-author");e&&(i(e),b(t))}}),[a]),Object(u.jsxs)("section",{className:"quote",children:[Object(u.jsx)("p",{className:"quote__message",children:n}),Object(u.jsxs)("p",{className:"quote__author",children:["by ",j]})]})},j=a(4),b=a.n(j),f=function(e){var t=e.country,a=Object(c.useState)(b()().format("hh:mm A")),s=Object(r.a)(a,2),o=s[0],n=s[1],i=Object(c.useState)("Hi"),l=Object(r.a)(i,2),m=l[0],d=l[1],j=function(){n(b()().format("hh:mm A"))};return Object(c.useEffect)((function(){var e=setInterval(j,1e3);return function(){var e=b()().format("HH");e>=4&&e<12?d("Good morning"):e>=12&&e<16?d("Good afternoon"):e>=16&&e<20?d("Good evening"):e>=20&&e<4&&d("Good night")}(),function(){return clearInterval(e)}})),Object(u.jsxs)("div",{className:"day",children:[Object(u.jsxs)("div",{className:"day__greeting",children:[Object(u.jsx)("i",{className:"fas fa-cloud-sun"})," "," ",m,", it's currently"]}),Object(u.jsx)("div",{className:"day__time",children:Object(u.jsx)("div",{className:"day__time__value",children:o})}),Object(u.jsx)("div",{className:"day__loc",children:t})]})},p=a(7),h=a.n(p),g=function(e){var t=e.weatherData;return Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info__item",children:[Object(u.jsx)("div",{className:"info__item__label",children:"current timezone"}),Object(u.jsx)("div",{className:"info__item__value",children:h.a.tz.guess()})]}),Object(u.jsxs)("div",{className:"info__item",children:[Object(u.jsx)("div",{className:"info__item__label",children:"current date"}),Object(u.jsx)("div",{className:"info__item__value",children:h()().format("ddd, DD MMMM YYYY")})]}),Object(u.jsxs)("div",{className:"info__item",children:[Object(u.jsx)("div",{className:"info__item__label",children:"sunrise | sunset"}),Object(u.jsxs)("div",{className:"info__item__value",children:[t.sunrise," | ",t.sunset]})]}),Object(u.jsxs)("div",{className:"info__item",children:[Object(u.jsx)("div",{className:"info__item__label",children:"reel feel"}),Object(u.jsxs)("div",{className:"info__item__value",children:[t.minTemp,"\xb0 | ",t.maxTemp,"\xb0Celsius"]})]})]})},O=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),a=t[0],s=t[1],o=Object(c.useState)(""),n=Object(r.a)(o,2),i=n[0],j=n[1],p=Object(c.useState)(!1),h=Object(r.a)(p,2),O=h[0],v=h[1],_=Object(c.useState)({minTemp:0,maxTemp:0,weather:"",sunrise:"",sunset:"",countryAbbrev:"PH"}),x=Object(r.a)(_,2),N=x[0],A=x[1],k=Object(c.useState)({latitude:15.4827722,longitude:120.7120023}),S=Object(r.a)(k,2),y=S[0],D=S[1];Object(c.useEffect)((function(){if(localStorage.getItem("clockAppUserData-date")){var e=localStorage.getItem("clockAppUserData-date");b()().format("YYYY-MM-DD")!==e&&v(!0)}else v(!0),localStorage.setItem("clockAppUserData-status","existing"),localStorage.setItem("clockAppUserData-date",b()().format("YYYY-MM-DD")),localStorage.setItem("clockAppUserData-quote","Whatever your goal in life, unless you develop a great urgency, what could be near will be far away."),localStorage.setItem("clockAppUserData-author","Anon"),localStorage.setItem("clockAppUserData-bg","https://images.unsplash.com/photo-1627133935524-6b60fa3f5fdf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyNTI2NzN8MHwxfHJhbmRvbXx8fHx8fHx8fDE2Mjk0NDA4OTk&ixlib=rb-1.2.1&q=80&w=1080")}),[]),Object(c.useEffect)((function(){navigator.geolocation?navigator.permissions.query({name:"geolocation"}).then((function(e){switch(e.state){case"granted":case"prompt":I()}})):console.log("Geolocation API is not supported by browser")}),[]),Object(c.useEffect)((function(){l.a.get("https://restcountries.eu/rest/v2/alpha/".concat(N.countryAbbrev)).then((function(e){var t=e.data;j(t.name)}))}),[N]),Object(c.useEffect)((function(){l.a.get("https://api.openweathermap.org/data/2.5/weather",{params:{appid:"48e720c185c515eee33e2cd291197d33",lat:y.latitude,lon:y.longitude,units:"metric"}}).then((function(e){var t=e.data,a=1e3*t.sys.sunrise,c=1e3*t.sys.sunset,s=t.sys.country,o={minTemp:t.main.temp_min,maxTemp:t.main.temp_max,sunrise:b()(a).format("hh:mm A"),sunset:b()(c).format("hh:mm A"),countryAbbrev:s};A(o)}))}),[y]);var I=function(){navigator.geolocation.getCurrentPosition((function(e){D({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(function(e){console.log(e)}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{refresh:O}),Object(u.jsx)(d,{refresh:O}),Object(u.jsxs)("div",{className:"main ".concat(a?"open":""),children:[Object(u.jsx)(f,{country:i}),Object(u.jsxs)("section",{className:"details ".concat(a?"open":""),children:[Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsxs)("button",{className:"actions__btn",onClick:function(){return s(!a)},children:["more ",Object(u.jsx)("i",{className:"fas fa-arrow-up icon-arrow"})]}),Object(u.jsxs)("button",{className:"actions__btn",onClick:function(){localStorage.removeItem("clockAppUserData-status"),localStorage.removeItem("clockAppUserData-date"),localStorage.removeItem("clockAppUserData-quote"),localStorage.removeItem("clockAppUserData-author"),localStorage.removeItem("clockAppUserData-bg")},children:["clear user data ",Object(u.jsx)("i",{className:"fas fa-times icon-arrow"})]})]}),Object(u.jsx)(g,{weatherData:N})]})]})]})};a(43);n.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.39e138f1.chunk.js.map